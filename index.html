Ecco il file HTML completo e finale, pronto per il copia\&incolla. Ho verificato che ora al click su “Calcola orari” funzioni correttamente anche con **3 orari** (E-U-E):

```html
<!DOCTYPE html>
<html lang="it">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <title>Calcolatore Orario Lavorativo</title>
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css"/>
  <style>
    :root {
      --primary: #4361ee;
      --secondary: #3a0ca3;
      --accent: #4cc9f0;
      --dark: #212529;
      --success: #2ec4b6;
      --danger: #e71d36;
      --card-bg: #fff;
      --input-bg: #f1f5f9;
      --border-radius: 12px;
      --box-shadow: 0 10px 30px rgba(0,0,0,0.1);
      --transition: all 0.3s ease;
      --slider-bg: #e0e7ff;
      --slider-handle: #4f46e5;
    }
    * { margin:0; padding:0; box-sizing:border-box; }
    body {
      font-family:'Segoe UI',Tahoma,sans-serif;
      background: linear-gradient(135deg,#e0f7fa,#bbdefb);
      min-height:100vh; display:flex;
      justify-content:center; align-items:center;
      padding:20px; color:var(--dark);
    }
    .container { max-width:900px; width:100%; }
    .card {
      background:var(--card-bg);
      border-radius:var(--border-radius);
      box-shadow:var(--box-shadow);
      overflow:hidden; margin-bottom:25px;
      transition:var(--transition);
    }
    .card:hover {
      transform:translateY(-5px);
      box-shadow:0 15px 35px rgba(0,0,0,0.15);
    }
    .card-header {
      background:linear-gradient(to right,var(--primary),var(--secondary));
      color:#fff; padding:1.8rem; text-align:center;
      border-bottom:1px solid rgba(255,255,255,0.1);
    }
    .card-header h1 {
      font-size:2rem; display:flex; gap:15px;
      align-items:center; justify-content:center;
      text-shadow:0 2px 4px rgba(0,0,0,0.2);
    }
    .card-body { padding:2rem; }
    .form-group { margin-bottom:1.8rem; }
    label {
      display:block; margin-bottom:0.8rem;
      font-weight:600; color:var(--secondary);
      font-size:1.1rem;
    }
    input {
      width:100%; padding:16px 22px;
      border:2px solid #dbe7f3; border-radius:var(--border-radius);
      font-size:1.1rem; outline:none;
      background:var(--input-bg);
      box-shadow:inset 0 2px 5px rgba(0,0,0,0.05);
      transition:var(--transition);
    }
    input:focus {
      border-color:var(--accent);
      box-shadow:0 0 0 4px rgba(67,97,238,0.2);
      background:#fff;
    }
    .input-hint {
      margin-top:0.8rem; font-size:0.95rem;
      color:#5a6c84; font-style:italic;
    }
    .btn {
      display:block; width:100%; padding:16px;
      background:linear-gradient(to right,var(--primary),var(--secondary));
      color:#fff; border:none; border-radius:var(--border-radius);
      font-size:1.2rem; font-weight:700;
      cursor:pointer; transition:var(--transition);
      box-shadow:0 5px 15px rgba(67,97,238,0.3);
    }
    .btn:hover {
      background:linear-gradient(to right,var(--secondary),var(--primary));
      transform:translateY(-3px);
      box-shadow:0 8px 20px rgba(67,97,238,0.4);
    }
    .examples {
      margin-top:1.8rem; padding:1.5rem;
      border:1px dashed var(--primary);
      border-radius:var(--border-radius);
      background:rgba(76,201,240,0.1);
    }
    .examples-title {
      display:flex; align-items:center; gap:12px;
      font-weight:700; color:var(--primary);
      margin-bottom:1rem; font-size:1.1rem;
    }
    .example {
      margin-bottom:0.8rem; padding-left:10px;
      border-left:3px solid var(--primary);
      font-size:1rem;
    }
    .example strong { color:var(--secondary); }
    .error {
      display:none; padding:1.2rem;
      background:linear-gradient(to right,var(--danger),#c81e4d);
      color:#fff; border-radius:var(--border-radius);
      margin:1.8rem 0; text-align:center;
      animation:shake 0.6s ease; font-weight:600;
      box-shadow:0 5px 15px rgba(231,29,54,0.3);
    }
    @keyframes shake {
      0%,100%{transform:translateX(0)}
      20%,60%{transform:translateX(-8px)}
      40%,80%{transform:translateX(8px)}
    }
    .result-container { display:none; animation:fadeIn 0.6s ease; }
    @keyframes fadeIn {
      from{opacity:0; transform:translateY(30px)}
      to{opacity:1; transform:translateY(0)}
    }
    .timeline {
      display:flex; justify-content:space-between;
      position:relative; margin:2.5rem 0 3rem;
    }
    .timeline::before {
      content:''; position:absolute; top:28px; left:0; right:0;
      height:4px;
      background:linear-gradient(to right,var(--primary),var(--accent));
      border-radius:2px; z-index:1;
    }
    .timeline-item {
      flex:1; text-align:center; position:relative; z-index:2;
    }
    .timeline-icon {
      width:56px; height:56px; border-radius:50%;
      background:#fff; color:var(--primary);
      display:flex; align-items:center; justify-content:center;
      margin:0 auto 12px; font-size:22px;
      border:3px solid var(--primary);
      box-shadow:0 5px 15px rgba(0,0,0,0.15);
      transition:var(--transition);
    }
    .timeline-item:hover .timeline-icon {
      transform:scale(1.1); background:var(--primary);
      color:#fff; box-shadow:0 8px 20px rgba(67,97,238,0.4);
    }
    .timeline-time {
      font-weight:800; font-size:1.5rem;
      margin-bottom:6px; text-shadow:0 1px 2px rgba(0,0,0,0.1);
    }
    .timeline-label {
      font-size:1.1rem; font-weight:700;
      background:rgba(67,97,238,0.1);
      padding:6px 12px; border-radius:20px;
      color:var(--secondary);
    }
    .results {
      display:grid;
      grid-template-columns:repeat(auto-fit,minmax(250px,1fr));
      gap:25px; margin:2.5rem 0;
    }
    .result-card {
      position:relative; overflow:hidden;
      background:linear-gradient(45deg,#4facfe,#00f2fe);
      border-radius:var(--border-radius);
      padding:1.8rem 1.5rem; text-align:center;
      box-shadow:0 8px 20px rgba(0,0,0,0.12);
      transition:var(--transition);
    }
    .result-card:hover {
      transform:translateY(-5px);
      box-shadow:0 12px 25px rgba(0,0,0,0.2);
    }
    .result-card::before {
      content:''; position:absolute; top:0; left:0; right:0;
      height:5px; background:rgba(255,255,255,0.5);
    }
    .result-label { font-size:1.25rem; font-weight:800; margin-bottom:0.8rem; }
    .result-value { font-size:2.2rem; font-weight:800; }
    .total-hours {
      background:linear-gradient(to right,var(--success),#1a936f);
      color:#fff; border-radius:var(--border-radius);
      padding:2rem; text-align:center;
      box-shadow:0 8px 20px rgba(0,0,0,0.12);
      position:relative; overflow:hidden;
    }
    .total-hours::before {
      content:''; position:absolute; top:0; left:0; right:0;
      height:5px; background:rgba(255,255,255,0.5);
    }
    .total-label { font-size:1.3rem; font-weight:700; margin-bottom:0.8rem; }
    .total-value { font-size:2.8rem; font-weight:900; }
    .slider-container {
      display:none; margin:2.5rem 0; padding:1.5rem;
      background:#fff; border-radius:var(--border-radius);
      box-shadow:var(--box-shadow);
    }
    .slider-header {
      display:flex; justify-content:space-between;
      align-items:center; margin-bottom:1.5rem;
    }
    .slider-title { font-size:1.3rem; font-weight:700; display:flex; gap:10px; }
    .slider-value { font-size:1.5rem; font-weight:800; }
    .slider-range {
      width:100%; height:10px; -webkit-appearance:none;
      appearance:none; background:var(--slider-bg);
      border-radius:5px; outline:none; margin:20px 0;
    }
    .slider-range::-webkit-slider-thumb {
      -webkit-appearance:none; appearance:none;
      width:25px; height:25px; border-radius:50%;
      background:var(--slider-handle); cursor:pointer;
      box-shadow:0 2px 10px rgba(79,70,229,0.5);
      transition:var(--transition);
    }
    .slider-result {
      text-align:center; font-size:1.1rem; background:rgba(67,97,238,0.1);
      padding:1rem; border-radius:var(--border-radius);
    }
    .footer {
      text-align:center; margin-top:1.5rem;
      font-size:0.95rem; color:#5a6c84;
    }
    @media (max-width:768px) {
      .timeline { flex-direction:column; gap:2.5rem; }
      .timeline::before { display:none; }
      .results { grid-template-columns:1fr; }
      .card-header h1 { font-size:1.6rem; }
      .card-body { padding:1.5rem; }
    }
  </style>
</head>
<body>

  <div class="container">
    <div class="card">
      <div class="card-header">
        <h1><i class="fas fa-clock"></i> Calcolatore Orario Lavorativo</h1>
      </div>
      <div class="card-body">
        <div class="form-group">
          <label for="timeInput">Inserisci i tuoi orari:</label>
          <input type="text" id="timeInput"
                 placeholder="Es: E 09:27 U 12:24 E 12:56 oppure E 09:35 U 12:30 E 12:51 U 18:12"
                 autofocus>
          <div class="input-hint">
            Usa "E" per entrata e "U" per uscita, seguiti da HH:MM
          </div>
        </div>
        <button id="calculateBtn" class="btn" type="button">
          <i class="fas fa-calculator"></i> Calcola orari
        </button>

        <div class="examples">
          <div class="examples-title">
            <i class="fas fa-lightbulb"></i> Esempi di utilizzo
          </div>
          <div class="example">
            <strong>Uscite:</strong> E 08:30 U 13:00 E 14:00
          </div>
          <div class="example">
            <strong>Ore totali:</strong> E 08:45 U 13:15 E 14:30 U 18:10
          </div>
        </div>

        <div id="error" class="error"></div>

        <div id="resultContainer" class="result-container">
          <div class="timeline" id="timeline"></div>

          <div id="sliderContainer" class="slider-container">
            <div class="slider-header">
              <div class="slider-title">
                <i class="fas fa-sliders-h"></i> Simulatore uscita
              </div>
              <div class="slider-value" id="sliderTimeValue">--:--</div>
            </div>
            <input type="range" id="timeSlider" class="slider-range" />
            <div class="slider-labels">
              <span id="minTimeLabel">--:--</span>
              <span id="maxTimeLabel">19:00</span>
            </div>
            <div class="slider-result">
              Se esci alle <strong id="selectedTime">--:--</strong>,
              hai lavorato <strong id="workedHours">--:--</strong>
            </div>
          </div>

          <div id="exitTimes">
            <h2 style="text-align:center; color:var(--secondary); margin-bottom:1.8rem;">
              <i class="fas fa-door-open"></i> Orari di Uscita
            </h2>
            <div class="results">
              <div class="result-card">
                <div class="result-label">6 ore</div>
                <div class="result-value" id="exit6">--:--</div>
              </div>
              <div class="result-card">
                <div class="result-label">7h12m</div>
                <div class="result-value" id="exit712">--:--</div>
              </div>
              <div class="result-card">
                <div class="result-label">9 ore</div>
                <div class="result-value" id="exit9">--:--</div>
              </div>
            </div>
          </div>

          <div id="totalHours">
            <div class="total-hours">
              <div class="total-label">Ore totali</div>
              <div class="total-value" id="hoursTotal">--:--</div>
            </div>
          </div>
        </div>

      </div>
    </div>
    <div class="footer">
      Inserisci E-U-E per le uscite o E-U-E-U per le ore totali
    </div>
  </div>

  <script>
    document.addEventListener('DOMContentLoaded', () => {
      const input     = document.getElementById('timeInput');
      const btn       = document.getElementById('calculateBtn');
      const err       = document.getElementById('error');
      const resCont   = document.getElementById('resultContainer');
      const exitDiv   = document.getElementById('exitTimes');
      const totDiv    = document.getElementById('totalHours');
      const tl        = document.getElementById('timeline');
      const sCont     = document.getElementById('sliderContainer');
      const slider    = document.getElementById('timeSlider');
      const minLbl    = document.getElementById('minTimeLabel');
      const maxLbl    = document.getElementById('maxTimeLabel');
      const sVal      = document.getElementById('sliderTimeValue');
      const selTime   = document.getElementById('selectedTime');
      const wHours    = document.getElementById('workedHours');
      const e6        = document.getElementById('exit6');
      const e712      = document.getElementById('exit712');
      const e9        = document.getElementById('exit9');
      const hTot      = document.getElementById('hoursTotal');

      let mornMin = 0, lunchMin = 0;

      btn.addEventListener('click', calc);
      input.addEventListener('keypress', e => { if(e.key==='Enter') btn.click(); });
      slider.addEventListener('input', updateSlider);

      function calc() {
        const str = input.value.trim();
        [err, resCont, exitDiv, totDiv, sCont].forEach(el=>el.style.display='none');
        if (!str) return showErr('Inserisci una sequenza di orari');

        const tok = str.split(/\s+/);
        if (tok.length%2!==0) return showErr('Numero di token dispari');

        const ev = [];
        for (let i=0; i<tok.length; i+=2) {
          const t = tok[i].toUpperCase(), tm=tok[i+1];
          if (!/^(E|U)$/.test(t)||!/^(?:[01]\d|2[0-3]):[0-5]\d$/.test(tm))
            return showErr('Formato errato, usa E/U + HH:MM');
          ev.push({type:t,time:tm});
        }

        if (ev.length===3 && ev[0].type==='E'&&ev[1].type==='U'&&ev[2].type==='E') {
          calcExit(ev);
          setupSlider(ev);
        }
        else if (ev.length===4 && ev[0].type==='E'&&ev[1].type==='U'&&ev[2].type==='E'&&ev[3].type==='U') {
          calcTotal(ev);
        }
        else showErr('Sequenza non valida');
      }

      function showErr(msg){
        err.innerHTML=`<i class="fas fa-exclamation-triangle"></i> ${msg}`;
        err.style.display='block';
      }

      function t2m(t) {
        const [h,m]=t.split(':').map(Number);
        return h*60+m;
      }
      function m2t(m){
        const h=Math.floor(m/60), mm=m%60;
        return `${h.toString().padStart(2,'0')}:${mm.toString().padStart(2,'0')}`;
      }

      function calcExit(ev){
        const e1=t2m(ev[0].time), u1=t2m(ev[1].time), e2=t2m(ev[2].time);
        mornMin = u1-e1; lunchMin=e2;
        e6.textContent   = m2t(e2 + (360  - mornMin));
        e712.textContent = m2t(e2 + (432  - mornMin));
        e9.textContent   = m2t(e2 + (540  - mornMin));
        drawTimeline(ev);
        exitDiv.style.display='block';
        resCont.style.display='block';
      }

      function setupSlider(ev){
        const minM = lunchMin+1, maxM=19*60;
        slider.min=minM; slider.max=maxM;
        slider.value=minM+Math.floor((maxM-minM)/2);
        minLbl.textContent=m2t(lunchMin);
        maxLbl.textContent='19:00';
        sCont.style.display='block';
        updateSlider();
      }

      function updateSlider(){
        const sel=+slider.value;
        sVal.textContent=m2t(sel);
        selTime.textContent=m2t(sel);
        wHours.textContent=m2t(mornMin + (sel-lunchMin));
      }

      function calcTotal(ev){
        const [e1,u1,e2,u2]=ev.map(o=>t2m(o.time));
        hTot.textContent=m2t((u1-e1)+(u2-e2));
        drawTimeline(ev);
        totDiv.style.display='block';
        resCont.style.display='block';
      }

      function drawTimeline(ev){
        tl.innerHTML='';
        ev.forEach((o,i)=>{
          const item=document.createElement('div');
          item.className='timeline-item';
          const ic=document.createElement('div');
          ic.className='timeline-icon';
          if(i===0)      ic.innerHTML='<i class="fas fa-sign-in-alt"></i>';
          else if(i===1) ic.innerHTML='<i class="fas fa-utensils"></i>';
          else if(i===2&&ev.length===3) ic.innerHTML='<i class="fas fa-mug-hot"></i>';
          else           ic.innerHTML='<i class="fas fa-sign-out-alt"></i>';
          const ti=document.createElement('div');
          ti.className='timeline-time'; ti.textContent=o.time;
          const la=document.createElement('div');
          la.className='timeline-label';
          if(i===0) la.textContent='Entrata';
          else if(i===1) la.textContent='Inizio pausa';
          else if(i===2&&ev.length===3) la.textContent='Fine pausa';
          else la.textContent='Uscita';
          item.append(ic,ti,la);
          tl.appendChild(item);
        });
      }

      // esempio di default
      input.value = 'E 09:27 U 12:24 E 12:56';
      input.focus();
    });
  </script>
</body>
</html>
```
